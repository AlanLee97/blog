(window.webpackJsonp=window.webpackJsonp||[]).push([[273],{420:function(a,t,s){"use strict";s.r(t);var n=s(0),e=Object(n.a)({},(function(){var a=this,t=a.$createElement,s=a._self._c||t;return s("ContentSlotsDistributor",{attrs:{"slot-key":a.$parent.slotKey}},[s("h1",{attrs:{id:"流水线配置"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#流水线配置"}},[a._v("#")]),a._v(" 流水线配置")]),a._v(" "),s("h2",{attrs:{id:"部署配置"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#部署配置"}},[a._v("#")]),a._v(" 部署配置")]),a._v(" "),s("p",[s("strong",[a._v("在服务器中操作")])]),a._v(" "),s("p",[a._v("创建目录")]),a._v(" "),s("div",{staticClass:"language-shell extra-class"},[s("pre",{pre:!0,attrs:{class:"language-shell"}},[s("code",[s("span",{pre:!0,attrs:{class:"token function"}},[a._v("mkdir")]),a._v(" - p /root/project/panda-appointment/panda-config\n")])])]),s("p",[a._v("创建docker-compose.yml")]),a._v(" "),s("div",{staticClass:"language-shell extra-class"},[s("pre",{pre:!0,attrs:{class:"language-shell"}},[s("code",[s("span",{pre:!0,attrs:{class:"token function"}},[a._v("vim")]),a._v(" docker-compose.yml\n")])])]),s("p",[a._v("粘贴如下内容")]),a._v(" "),s("div",{staticClass:"language-yml extra-class"},[s("pre",{pre:!0,attrs:{class:"language-yml"}},[s("code",[s("span",{pre:!0,attrs:{class:"token key atrule"}},[a._v("version")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(":")]),a._v(" "),s("span",{pre:!0,attrs:{class:"token string"}},[a._v("'3.1'")]),a._v("\n"),s("span",{pre:!0,attrs:{class:"token key atrule"}},[a._v("services")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(":")]),a._v("\n  "),s("span",{pre:!0,attrs:{class:"token key atrule"}},[a._v("panda-config")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(":")]),a._v("\n    "),s("span",{pre:!0,attrs:{class:"token key atrule"}},[a._v("image")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(":")]),a._v(" registry.cn"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("-")]),a._v("shenzhen.aliyuncs.com/panda"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("-")]),a._v("appointment/panda"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("-")]),a._v("config"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(":")]),a._v("1.0.0\n    "),s("span",{pre:!0,attrs:{class:"token key atrule"}},[a._v("container_name")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(":")]),a._v(" panda"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("-")]),a._v("config\n    "),s("span",{pre:!0,attrs:{class:"token key atrule"}},[a._v("ports")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(":")]),a._v("\n     "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("-")]),a._v(" 8888"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(":")]),s("span",{pre:!0,attrs:{class:"token number"}},[a._v("8888")]),a._v("\n    \n")])])]),s("p",[s("strong",[a._v("在云效中操作")])]),a._v(" "),s("p",[a._v("部署方式：RDC脚本部署")]),a._v(" "),s("p",[a._v("下载路径：不填")]),a._v(" "),s("p",[a._v("部署脚本：")]),a._v(" "),s("div",{staticClass:"language-shell extra-class"},[s("pre",{pre:!0,attrs:{class:"language-shell"}},[s("code",[s("span",{pre:!0,attrs:{class:"token builtin class-name"}},[a._v("cd")]),a._v(" /root/project/panda-appointment/sh\n\n"),s("span",{pre:!0,attrs:{class:"token function"}},[a._v("rm")]),a._v(" -r -f panda-config-deploy.sh\n\n"),s("span",{pre:!0,attrs:{class:"token function"}},[a._v("wget")]),a._v(" https://gitee.com/Panda_Appointment/panda-files/raw/master/docker-compose/panda-config/panda-config-deploy.sh\n\n"),s("span",{pre:!0,attrs:{class:"token function"}},[a._v("sh")]),a._v(" panda-config-deploy.sh\n")])])]),s("p",[a._v("执行用户：root")]),a._v(" "),s("p",[s("img",{attrs:{src:"E:/%E6%88%91%E7%9A%84%E5%9D%9A%E6%9E%9C%E4%BA%91/OneDrive/%E5%AD%A6%E4%B9%A0/%E7%AC%94%E8%AE%B0/%E5%9B%BE%E7%89%87/note_images/image-20200225133943907.png",alt:"image-20200225133943907"}})])])}),[],!1,null,null,null);t.default=e.exports}}]);