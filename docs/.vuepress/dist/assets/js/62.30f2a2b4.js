(window.webpackJsonp=window.webpackJsonp||[]).push([[62],{512:function(e,n,a){"use strict";a.r(n);var s=a(0),t=Object(s.a)({},(function(){var e=this,n=e.$createElement,a=e._self._c||n;return a("ContentSlotsDistributor",{attrs:{"slot-key":e.$parent.slotKey}},[a("h1",{attrs:{id:"安装jenkins"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#安装jenkins"}},[e._v("#")]),e._v(" 安装jenkins")]),e._v(" "),a("p",[e._v("在docker中安装jenkins")]),e._v(" "),a("p",[e._v("输入以下代码")]),e._v(" "),a("div",{staticClass:"language-shell extra-class"},[a("pre",{pre:!0,attrs:{class:"language-shell"}},[a("code",[e._v("docker run "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v("\\")]),e._v("\n  -u root "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v("\\")]),e._v("\n  -d -p "),a("span",{pre:!0,attrs:{class:"token number"}},[e._v("8001")]),e._v(":8080 "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v("\\")]),e._v("\n  -v /var/jenkins_home:/var/jenkins_home "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v("\\")]),e._v("\n  -v /usr/bin/docker:/usr/bin/docker "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v("\\")]),e._v("\n  -v /usr/lib64/libltdl.so.7:/usr/lib64/libltdl.so.7 "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v("\\")]),e._v("\n  -v /etc/profile:/etc/profile "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v("\\")]),e._v("\n  -v /var/run/docker.sock:/var/run/docker.sock "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v("\\")]),e._v("\n  -v /usr/local/maven/maven3:/usr/local/maven/maven3 "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v("\\")]),e._v("\n  -v /usr/lib/jvm/java-1.8.0-openjdk-1.8.0.242.b08-0.el7_7.x86_64:/usr/lib/jvm/java-1.8.0-openjdk-1.8.0.242.b08-0.el7_7.x86_64 "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v("\\")]),e._v("\n  -v "),a("span",{pre:!0,attrs:{class:"token string"}},[e._v('"'),a("span",{pre:!0,attrs:{class:"token environment constant"}},[e._v("$HOME")]),e._v('"')]),e._v(":/home "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v("\\")]),e._v("\n  --name jenkins2 "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v("\\")]),e._v("\n  jenkinsci/blueocean\n")])])]),a("p",[e._v("复制密码")]),e._v(" "),a("p",[e._v("docker logs jenkinsci/blueocean容器id")]),e._v(" "),a("p",[a("img",{attrs:{src:"E:/%E6%88%91%E7%9A%84%E5%9D%9A%E6%9E%9C%E4%BA%91/OneDrive/%E5%AD%A6%E4%B9%A0/%E7%AC%94%E8%AE%B0/%E5%9B%BE%E7%89%87/note_images/image-20200221131256001.png",alt:"image-20200221131256001"}})]),e._v(" "),a("div",{staticClass:"language- extra-class"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[e._v("790bf04c1383422c9da78397bcb7cbef\n\nc6f6cba51094442b8d966b9aec592435\n")])])]),a("p",[e._v("访问localhost:8000")]),e._v(" "),a("p",[a("img",{attrs:{src:"E:/%E6%88%91%E7%9A%84%E5%9D%9A%E6%9E%9C%E4%BA%91/OneDrive/%E5%AD%A6%E4%B9%A0/%E7%AC%94%E8%AE%B0/%E5%9B%BE%E7%89%87/note_images/image-20200221142825104.png",alt:"image-20200221142825104"}})]),e._v(" "),a("p",[e._v("输入刚刚的一串密码")]),e._v(" "),a("p",[e._v("进入插件安装页面")]),e._v(" "),a("p",[a("img",{attrs:{src:"https://alanlee-image-bed.oss-cn-shenzhen.aliyuncs.com/note_images/20200221131921-120772.png",alt:"image-20200221131921028"}})]),e._v(" "),a("p",[e._v("安装完之后创建账户")]),e._v(" "),a("p",[a("img",{attrs:{src:"E:/%E6%88%91%E7%9A%84%E5%9D%9A%E6%9E%9C%E4%BA%91/OneDrive/%E5%AD%A6%E4%B9%A0/%E7%AC%94%E8%AE%B0/%E5%9B%BE%E7%89%87/note_images/image-20200221143943321.png",alt:"image-20200221143943321"}})]),e._v(" "),a("p",[e._v("实例配置")]),e._v(" "),a("p",[a("img",{attrs:{src:"https://alanlee-image-bed.oss-cn-shenzhen.aliyuncs.com/note_images/20200221144024-647535.png",alt:"image-20200221144023800"}})]),e._v(" "),a("p",[a("img",{attrs:{src:"https://alanlee-image-bed.oss-cn-shenzhen.aliyuncs.com/note_images/20200221144041-516818.png",alt:"image-20200221144041189"}})]),e._v(" "),a("p",[e._v("进入主界面")]),e._v(" "),a("p",[a("img",{attrs:{src:"https://alanlee-image-bed.oss-cn-shenzhen.aliyuncs.com/note_images/20200221144320-539671.png",alt:"image-20200221144319625"}})]),e._v(" "),a("p",[e._v("创建项目")]),e._v(" "),a("p",[a("img",{attrs:{src:"https://alanlee-image-bed.oss-cn-shenzhen.aliyuncs.com/note_images/20200221144337-897131.png",alt:"image-20200221144336311"}})]),e._v(" "),a("p",[e._v("输入任务名称--\x3e点击流水线--\x3e点确定")]),e._v(" "),a("p",[a("img",{attrs:{src:"E:/%E6%88%91%E7%9A%84%E5%9D%9A%E6%9E%9C%E4%BA%91/OneDrive/%E5%AD%A6%E4%B9%A0/%E7%AC%94%E8%AE%B0/%E5%9B%BE%E7%89%87/note_images/image-20200221144428604.png",alt:"image-20200221144428604"}})]),e._v(" "),a("p",[e._v("在 "),a("strong",[e._v("Description")]),e._v(" 字段中填写流水线的简要描述 （例如 "),a("code",[e._v("一个演示如何使用Jenkins构建Maven管理的简单Java应用程序的入门级流水线。")]),e._v("）")]),e._v(" "),a("p",[a("img",{attrs:{src:"https://alanlee-image-bed.oss-cn-shenzhen.aliyuncs.com/note_images/20200221144607-603556.png",alt:"image-20200221144606880"}})]),e._v(" "),a("p",[e._v("在 "),a("strong",[e._v("Definition")]),e._v(" 域中，选择 "),a("strong",[e._v("Pipeline script from SCM")]),e._v(" 选项。此选项指示Jenkins从源代码管理（SCM）仓库获取你的流水线， 这里的仓库就是你clone到本地的Git仓库。")]),e._v(" "),a("p",[a("img",{attrs:{src:"https://alanlee-image-bed.oss-cn-shenzhen.aliyuncs.com/note_images/20200221144927-676464.png",alt:"image-20200221144926604"}})]),e._v(" "),a("p",[e._v("在 "),a("strong",[e._v("SCM")]),e._v(" 域中，选择 "),a("strong",[e._v("Git")]),e._v("。")]),e._v(" "),a("p",[a("img",{attrs:{src:"https://alanlee-image-bed.oss-cn-shenzhen.aliyuncs.com/note_images/20200221145055-950423.png",alt:"image-20200221145055435"}})]),e._v(" "),a("p",[e._v("在 "),a("strong",[e._v("Repository URL")]),e._v(" 域中，填写你本地仓库的 "),a("a",{attrs:{href:"https://jenkins.io/zh/doc/tutorials/build-a-java-app-with-maven/#fork-sample-repository",target:"_blank",rel:"noopener noreferrer"}},[e._v("目录路径"),a("OutboundLink")],1),e._v("， 这是从你主机上的用户账户home目录映射到Jenkins容器的 "),a("code",[e._v("/home")]),e._v(" 目录：")]),e._v(" "),a("ul",[a("li",[e._v("MacOS系统 - "),a("code",[e._v("/home/Documents/GitHub/simple-java-maven-app")])]),e._v(" "),a("li",[e._v("Linux系统 - "),a("code",[e._v("/home/GitHub/simple-java-maven-app")])]),e._v(" "),a("li",[e._v("Windows系统 - "),a("code",[e._v("/home/Documents/GitHub/simple-java-maven-app")])])]),e._v(" "),a("p",[a("img",{attrs:{src:"E:/%E6%88%91%E7%9A%84%E5%9D%9A%E6%9E%9C%E4%BA%91/OneDrive/%E5%AD%A6%E4%B9%A0/%E7%AC%94%E8%AE%B0/%E5%9B%BE%E7%89%87/note_images/image-20200221145610600.png",alt:"image-20200221145610600"}})]),e._v(" "),a("p",[e._v("在克隆下来的java maven项目中创建Jenkinsfile文件")]),e._v(" "),a("p",[e._v("内容如下")]),e._v(" "),a("div",{staticClass:"language- extra-class"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[e._v("pipeline {\n    agent {\n        docker {\n            image 'maven:3-alpine' \n            args '-v /root/.m2:/root/.m2' \n        }\n    }\n    stages {\n        stage('Build') { \n            steps {\n                sh 'mvn -B -DskipTests clean package' \n            }\n        }\n    }\n}\n")])])])])}),[],!1,null,null,null);n.default=t.exports}}]);