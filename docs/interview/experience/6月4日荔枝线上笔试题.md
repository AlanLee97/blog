# 6月4日荔枝线上笔试题



## 1. css中block和inline的区别

block会将元素显示为块状元素,即这个元素会占据一行。

 inline会将元素显示为行内元素,该元素的宽度根据包裹元素里的内容的大小而变化



## 2. 垂直居中的N种方法

1. 使用flex布局,在item项中设置属性align-item: center

2. 还是flex布局,更改主轴方向为,flex-direction:cross,再使用justify-content: center

3. 使用line-height属性，把line-height的值设置为父元素的height值

4. ```css
   /*在父元素使用，子元素会垂直居中*/
   display: table-cell;
   vertical-align: middle;
   text-align: center;
   ```

5. 

## 3. cookie的缺点有哪些

1. 不安全,如果把用户信息存在cookie中,会被人恶意获取用户信息
2. 存储量小,仅有4KB,而且会随着http请求一起发送到服务器,会有一定的性能损失 





## 4. localStorage和sessionStorage的区别

1. 相同点:都h5新增的存储方案,数据是存储在本地,容量为5M
2. 不同点:localStorage会一直保存数据,直到用户手动清除。sessionStorage保存的数据仅在浏览器当前窗口有效,关闭浏览器窗口之后就无效了。



## 5. 网站性能优化方法有哪些

**1.DNS预解析**

DNS 解析也是需要时间的，可以通过预解析的方式来预先获得域名所对应的 IP。

```html
<link rel="dns-prefetch" href="//yuchengkai.cn" />
```

 **2.预渲染,prerender**

可以通过预渲染将下载的文件预先在后台渲染，可以使用以下代码开启预渲染

```html
<link rel="prerender" href="http://example.com" />
```

预渲染虽然可以提高页面的加载速度，但是要确保该页面百分百会被用户在之后打开，否则就白白浪费资源去渲染



 **3.预加载,preload**

在开发中，可能会遇到这样的情况。有些资源不需要马上用到，但是希望尽早获取，这时候就可以使用预加载。

预加载其实是声明式的 `fetch` ，强制浏览器请求资源，并且不会阻塞 `onload` 事件，可以使用以下代码开启预加载

```html
<link rel="preload" href="http://example.com" />
```

预加载可以一定程度上降低首屏的加载时间，因为可以将一些不影响首屏但重要的文件延后加载，唯一缺点就是兼容性不好。



 **4.把script标签放在body内容的最后面**



 **5.图片优化,如雪碧图,小图片用base64处理,**



 **6.懒加载**

懒加载就是将不关键的资源延后加载。

懒加载的原理就是只加载自定义区域（通常是可视区域，但也可以是即将进入可视区域）内需要加载的东西。对于图片来说，先设置图片标签的 `src` 属性为一张占位图，将真实的图片资源放入一个自定义属性中，当进入自定义区域时，就将自定义属性替换为 `src` 属性，这样图片就会去下载资源，实现了图片懒加载。

懒加载不仅可以用于图片，也可以使用在别的资源上。比如进入可视区域才开始播放视频等等。



 **7.CDN内容分发,静态资源放在Nginx服务器** 

静态资源尽量使用 CDN 加载，由于浏览器对于单个域名有并发请求上限，可以考虑使用多个 CDN 域名。对于 CDN 加载静态资源需要注意 CDN 域名要与主站不同，否则每次请求都会带上主站的 Cookie。



**8.使用http2.0**

因为浏览器会有并发请求限制，在 HTTP / 1.1 时代，每个请求都需要建立和断开，消耗了好几个 RTT 时间，并且由于 TCP 慢启动的原因，加载体积大的文件会需要更多的时间。

在 HTTP / 2.0 中引入了多路复用，能够让多个请求使用同一个 TCP 链接，极大的加快了网页的加载速度。并且还支持 Header 压缩，进一步的减少了请求的数据大小。



**9.使用缓存**

强缓存

实现强缓存可以通过两种响应头实现：`Expires` 和 `Cache-Control` 。强缓存表示在缓存期间不需要请求，`state code` 为 200

```js
Expires: Wed, 22 Oct 2018 08:41:00 GMT
```

`Expires` 是 HTTP / 1.0 的产物，表示资源会在 `Wed, 22 Oct 2018 08:41:00 GMT` 后过期，需要再次请求。并且 `Expires` 受限于本地时间，如果修改了本地时间，可能会造成缓存失效。

```js
Cache-control: max-age=30
```

`Cache-Control` 出现于 HTTP / 1.1，优先级高于 `Expires` 。该属性表示资源会在 30 秒后过期，需要再次请求。



选择合适的缓存策略

对于大部分的场景都可以使用强缓存配合协商缓存解决，但是在一些特殊的地方可能需要选择特殊的缓存策略

- 对于某些不需要缓存的资源，可以使用 `Cache-control: no-store` ，表示该资源不需要缓存
- 对于频繁变动的资源，可以使用 `Cache-Control: no-cache` 并配合 `ETag` 使用，表示该资源已被缓存，但是每次都会发送请求询问资源是否更新。
- 对于代码文件来说，通常使用 `Cache-Control: max-age=31536000` 并配合策略缓存使用，然后对文件进行指纹处理，一旦文件名变动就会立刻下载新的文件。



**10.压缩**





## 6. http状态码中301,302,401分别代表什么意思？

301：永久移动。请求的资源已被永久的移动到新URI，返回信息会包括新的URI，浏览器会自动定向到新URI。今后任何新的请求都应使用新的URI代替

302：临时移动。与301类似。但资源只是临时被移动。客户端应继续使用原有URI

401：请求要求用户的身份认证



## 7. 看代码，写出结果

```javascript
var lz = lz || []
console.log(lz)

```

输出结果：





```javascript
function a() {
  var arg = [] 
  for(var i = 0; i < 10; i++) {
    arg[i] = function() {
               return i
             }
  }
  return arg
}
a()[1]()
```

输出结果：





## 8. 请用原生js实现继承

